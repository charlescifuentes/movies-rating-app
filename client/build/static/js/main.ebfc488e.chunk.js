(this["webpackJsonpmovie-rating-app"]=this["webpackJsonpmovie-rating-app"]||[]).push([[0],{41:function(e){e.exports=JSON.parse('{"domain":"charlesdeveloper.auth0.com","clientId":"DIk3ChVDGHGdiL1DuKekU11v7juEQCgC"}')},57:function(e,t,a){e.exports=a.p+"static/media/loading.4184a2a4.svg"},62:function(e,t,a){e.exports=a(98)},67:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=(a(67),a(68),a(21)),i=function(){return r.a.createElement("header",{className:"bg-color p-5 text-white text-center mb-5"},r.a.createElement("h1",{className:"mb-4"},"MOVIES RATING APP"),r.a.createElement("p",{className:"lead"},'Web Application that allow to query a Movie List from the "The Movie DB", also the user can give ratings and make comments'))},s=a(12),m=a.n(s),u=a(19),d=a(10),p=a(27),E=a(54),b=a.n(E),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},f=r.a.createContext(),v=function(){return Object(n.useContext)(f)},g=a(14),w=a(99),N=a(100),x=a(101),O=function(e){return r.a.createElement(w.a,null,e.movies.map((function(t){return r.a.createElement("div",{key:t.id,className:"mb-2 border rounded shadow bg-color"},r.a.createElement(N.a,null,r.a.createElement(x.a,{md:"4"},r.a.createElement(g.a,{to:{pathname:"/movieslistdetail",state:{movieData:t,base_url:e.base_url}}},r.a.createElement("figure",{class:"img-effect"},r.a.createElement("img",{src:e.base_url+t.poster_path,width:"100%",alt:"Poster"}),r.a.createElement("figcaption",null,r.a.createElement("h3",null,"See Now"))))),r.a.createElement(x.a,{md:"8",className:"p-4 text-white"},r.a.createElement("h2",null,r.a.createElement(g.a,{to:{pathname:"/movieslistdetail",state:{movieData:t,base_url:e.base_url}}},t.title)),r.a.createElement("p",null,t.overview),r.a.createElement("div",null,r.a.createElement("h3",{className:"border border-white d-inline-block p-3"},"Release Date : ",t.release_date)),r.a.createElement("div",null,r.a.createElement("h4",{className:"border border-white d-inline-block p-3"},"Vote Average : ",t.vote_average)))))})))},k=a(17),j=a(28),y=a(102),C=a(103),S=a(104),_=a(105),D=a(56),R=function(e){var t=Object(n.useState)(e.date),a=Object(d.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){l(e.date)}),[e]);return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(y.a,{onSubmit:function(t){t.preventDefault(),e.getMovieList(c.rDate)},className:"shadow p-4 mb-2 bg-white rounded"},r.a.createElement(C.a,null,r.a.createElement(S.a,{for:"rDate"},"Selecciona un a\xf1o"),r.a.createElement(_.a,{type:"select",name:"rDate",id:"rDate",value:c.rDate,onChange:function(e){e.persist(),l(Object(j.a)({},c,Object(k.a)({},e.target.name,e.target.value)))}},r.a.createElement("option",null,"2017"),r.a.createElement("option",null,"2018"),r.a.createElement("option",null,"2019"))),r.a.createElement(D.a,{color:"info",type:"submit",size:"lg",block:!0},"Buscar")))},L=function(){var e=Object(n.useState)({rDate:"2017"}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(d.a)(l,2),i=o[0],s=o[1],p=Object(n.useState)(!1),E=Object(d.a)(p,2),b=E[0],h=E[1],f=v().isAuthenticated,g=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://api.themoviedb.org/3/discover/movie?api_key=22555534f5b29022b079b339a0388c07&language=en-US&sort_by=release_date.asc&include_adult=false&include_video=false&page=1&primary_release_year=".concat(t)).then((function(e){return e.json()})).then((function(e){s(e.results),c(t),h(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f?r.a.createElement(w.a,null,r.a.createElement("div",{className:"text-center text-white bg-color shadow p-3 mb-3 rounded"},r.a.createElement("h2",null,"LIST OF MOVIES BY YEAR")),r.a.createElement(R,{date:a,getMovieList:g}),b&&r.a.createElement(O,{movies:i,base_url:"https://image.tmdb.org/t/p/w500/"})):r.a.createElement(w.a,null,r.a.createElement("div",{className:"text-center text-white bg-color shadow p-3 mb-3 rounded"},r.a.createElement("h2",null,"Please Login to see All the Movies List")))},P=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(i,null),r.a.createElement(L,null))},A=function(){var e=v(),t=e.loading,a=e.user;return t||!a?r.a.createElement("div",null,"Loading..."):r.a.createElement(w.a,{className:"p-5"},r.a.createElement(N.a,null,r.a.createElement(x.a,{md:"4"},r.a.createElement("img",{src:a.picture,alt:"Profile"})),r.a.createElement(x.a,{md:"8"},r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email))),r.a.createElement("div",{className:"mt-3 p-3 bg-dark text-white"},r.a.createElement("code",null,JSON.stringify(a,null,2))))},I=a(11),T=Object(I.a)(),B=function(e){var t=e.component,a=e.path,c=Object(p.a)(e,["component","path"]),l=v(),i=l.loading,s=l.isAuthenticated,d=l.loginWithRedirect;Object(n.useEffect)((function(){i||s||function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:a}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,s,d,a]);return r.a.createElement(o.a,Object.assign({path:a,render:function(e){return!0===s?r.a.createElement(t,e):null}},c))},W=a(57),M=a.n(W),U=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:M.a,alt:"Loading"}))},V=a(22),q=a(106),G=a(107),J=a(108),z=a(109),H=a(110),Y=a(111),F=a(112),K=a(114),Q=a(115),$=a(116),X=a(113),Z=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=v(),o=l.user,i=l.isAuthenticated,s=l.loginWithRedirect,m=l.logout,u=function(){return m({returnTo:window.location.origin})};return r.a.createElement("div",{className:"nav-container"},r.a.createElement(q.a,{color:"info",dark:!0,expand:"md"},r.a.createElement(w.a,null,r.a.createElement(G.a,null,r.a.createElement(J.a,{tag:g.b,to:"/",exact:!0,activeClassName:"router-link-exact-active"},"MOVIE RATING APP")),r.a.createElement(z.a,{onClick:function(){return c(!a)}}),r.a.createElement(H.a,{isOpen:a,navbar:!0},r.a.createElement(Y.a,{className:"mr-auto",navbar:!0},r.a.createElement(F.a,null,r.a.createElement(J.a,{tag:g.b,to:"/",exact:!0,activeClassName:"router-link-exact-active"},"Home"))),r.a.createElement(Y.a,{className:"d-none d-md-block",navbar:!0},!i&&r.a.createElement(F.a,null,r.a.createElement(D.a,{id:"qsLoginBtn",color:"warning",className:"btn-margin",onClick:function(){return s({})}},"Log in")),i&&r.a.createElement(K.a,{nav:!0,inNavbar:!0},r.a.createElement(Q.a,{nav:!0,caret:!0,id:"profileDropDown"},r.a.createElement("img",{src:o.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),r.a.createElement($.a,null,r.a.createElement(X.a,{header:!0},o.name),r.a.createElement(X.a,{tag:g.b,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"},r.a.createElement(V.a,{icon:"user",className:"mr-3"})," Profile"),r.a.createElement(X.a,{id:"qsLogoutBtn",onClick:function(){return u()}},r.a.createElement(V.a,{icon:"power-off",className:"mr-3"})," Log out")))),!i&&r.a.createElement(Y.a,{className:"d-md-none",navbar:!0},r.a.createElement(F.a,null,r.a.createElement(D.a,{id:"qsLoginBtn",color:"warning",block:!0,onClick:function(){return s({})}},"Log in"))),i&&r.a.createElement(Y.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},r.a.createElement(F.a,null,r.a.createElement("span",{className:"user-info"},r.a.createElement("img",{src:o.picture,alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),r.a.createElement("h6",{className:"d-inline-block"},o.name))),r.a.createElement(F.a,null,r.a.createElement(V.a,{icon:"user",className:"mr-3"}),r.a.createElement(g.b,{to:"/profile",activeClassName:"router-link-exact-active"},"Profile")),r.a.createElement(F.a,null,r.a.createElement(V.a,{icon:"power-off",className:"mr-3"}),r.a.createElement(g.b,{to:"#",id:"qsLogoutBtn",onClick:function(){return u()}},"Log out")))))))},ee=function(){return r.a.createElement("footer",{className:"bg-color p-3 mt-5 text-center text-white"},"Movies Rating App By ",r.a.createElement("small",null,"Charles Developer"))},te=a(61),ae=a(60),ne=a.n(ae),re=a(40),ce=function(e){var t=e.location.state,a=t.movieData,c=t.base_url,l=Object(n.useState)(""),o=Object(d.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)({autor:"Charles Cifuenes",comment:"This is an example comment"}),u=Object(d.a)(m,2),p=u[0],E=u[1],b=Object(n.useState)([{autor:"Charles Cifuentes",comment:"This is an example comment"}]),h=Object(d.a)(b,2),f=h[0],v=h[1];return r.a.createElement(w.a,{className:"py-5"},r.a.createElement("div",{className:"text-center text-white text-uppercase bg-color shadow p-3 mb-3 rounded"},r.a.createElement("h2",null,a.title)),r.a.createElement("div",{className:"mb-2 p-5 border rounded shadow bg-color"},r.a.createElement(N.a,null,r.a.createElement(x.a,{md:"4"},r.a.createElement("img",{src:c+a.poster_path,width:"100%",alt:"Poster",className:"img-thumbnail"})),r.a.createElement(x.a,{md:"8",className:"text-white"},r.a.createElement("p",{style:{fontSize:"20px"},className:"text-justify"},a.overview),r.a.createElement("div",{className:"my-2"},r.a.createElement("h3",{className:"border border-white d-inline-block p-3"},"Release Date : ",a.release_date)),r.a.createElement("div",{className:"my-2"},r.a.createElement("h4",{className:"border border-white d-inline-block p-3"},"Vote Average : ",a.vote_average)),r.a.createElement("div",{className:"my-2"},r.a.createElement("h4",{className:"border border-white d-inline-block p-3"},"Give your Rating:",r.a.createElement(ne.a,{count:5,onChange:function(e){console.log(e),s(e)},size:24,color2:"#ffd700"}),r.a.createElement("small",null,"Your Current Rating: ",i))))),r.a.createElement(N.a,{className:"mb-5 bg-info mt-4 p-3"},r.a.createElement(x.a,{md:"6"},r.a.createElement("div",{className:"text-white mb-3"},r.a.createElement("h3",null,"Insert a Comment:"),r.a.createElement(y.a,{onSubmit:function(e){e.preventDefault(),v([].concat(Object(te.a)(f),[p]))}},r.a.createElement(C.a,null,r.a.createElement(S.a,null,"Inser a Comment"),r.a.createElement(_.a,{type:"textarea",name:"comment",id:"comment",value:f.comment,onChange:function(e){e.persist(),E(Object(j.a)({},p,Object(k.a)({},e.target.name,e.target.value)))}})),r.a.createElement(D.a,{type:"submit",className:"float-right",color:"warning"},"Comentar")))),r.a.createElement(x.a,{md:"6"},r.a.createElement("div",{className:"text-white"},r.a.createElement("ul",{className:"list-unstyled"},f.length>0?f.map((function(e,t){return r.a.createElement("li",{key:t,className:"border-bottom border-white mt-3"},r.a.createElement("p",null,r.a.createElement(V.a,{icon:re.b})," ",e.autor),r.a.createElement("p",{className:"ml-4"},r.a.createElement(V.a,{icon:re.a})," ",e.comment))})):r.a.createElement("p",null,"There is no Comments")))))))},le=(a(97),function(){return v().loading?r.a.createElement(U,null):r.a.createElement(o.b,{history:T},r.a.createElement("div",{className:"App d-flex flex-column h-100"},r.a.createElement(Z,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:P}),r.a.createElement(B,{path:"/profile",component:A}),r.a.createElement(o.a,{path:"/movieslistdetail",component:ce})),r.a.createElement(ee,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(41);l.a.render(r.a.createElement((function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?h:a,l=Object(p.a)(e,["children","onRedirectCallback"]),o=Object(n.useState)(),i=Object(d.a)(o,2),s=i[0],E=i[1],v=Object(n.useState)(),g=Object(d.a)(v,2),w=g[0],N=g[1],x=Object(n.useState)(),O=Object(d.a)(x,2),k=O[0],j=O[1],y=Object(n.useState)(!0),C=Object(d.a)(y,2),S=C[0],_=C[1],D=Object(n.useState)(!1),R=Object(d.a)(D,2),L=R[0],P=R[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()(l);case 2:if(t=e.sent,j(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,E(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,N(o);case 19:_(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},P(!0),e.prev=2,e.next=5,k.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,P(!1),e.finish(10);case 13:return e.next=15,k.getUser();case 15:a=e.sent,N(a),E(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,k.handleRedirectCallback();case 3:return e.next=5,k.getUser();case 5:t=e.sent,_(!1),E(!0),N(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{isAuthenticated:s,user:w,loading:S,popupOpen:L,loginWithPopup:A,handleRedirectCallback:I,getIdTokenClaims:function(){return k.getIdTokenClaims.apply(k,arguments)},loginWithRedirect:function(){return k.loginWithRedirect.apply(k,arguments)},getTokenSilently:function(){return k.getTokenSilently.apply(k,arguments)},getTokenWithPopup:function(){return k.getTokenWithPopup.apply(k,arguments)},logout:function(){return k.logout.apply(k,arguments)}}},t)}),{domain:oe.domain,client_id:oe.clientId,redirect_uri:window.location.origin,onRedirectCallBack:function(e){T.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.ebfc488e.chunk.js.map